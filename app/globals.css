@import "tailwindcss";

@layer base {
  :root {
    --background: #ffffff;
    --foreground: #000000;
    --page-background: #ffffff;
    --text-color: #ffffff;
    --icon-color: #ffffff;
    --monitor-frame-color: #ffffff;
    
    /* Viewport height fix for iOS */
    --vh: 1vh;
    
    /* Bento card colors - Light mode */
    --color-about: #6366F1;
    --color-skills: #10B981;
    --color-contact: #8B5CF6;
    --color-software: #06B6D4;
    --color-jam: #F97316;
    --color-process: #F59E0B;
    --color-projects: #EF4444;
    --color-theme: #EC4899;
    
    /* Project card colors - Light mode */
    --color-project-1: #0EA5E9;
    --color-project-2: #06B6D4;
    --color-project-3: #8B5CF6;
  }

  [data-theme="dark"] {
    --background: #0a0a0a;
    --foreground: #ffffff;
    --page-background: #0a0a0a;
    --text-color: #000000;
    --icon-color: #000000;
    --monitor-frame-color: #000000;
    
    /* Bento card colors - Dark mode (neon/electric colors for black text) */
    --color-about: #C11CAD;
    --color-skills: #C6E800;
    --color-contact: #8338EC;
    --color-software: #3A86FF;
    --color-jam: #FB5607;
    --color-process: #FFBE0B;
    --color-projects: #FD2B3B;
    --color-theme: #FF006E;
    
    /* Project card colors - Dark mode (neon) */
    --color-project-1: #00BBFF;
    --color-project-2: #00EEFF;
    --color-project-3: #BB44FF;
  }

  html, body {
    overflow: hidden;
    margin: 0;
    padding: 0;
    background-color: var(--background);
    color: var(--foreground);
    transition: background-color 0.3s ease, color 0.3s ease;
    /* Fix for iOS Safari address bar */
    height: 100vh;
    height: 100dvh; /* Dynamic viewport height for modern browsers */
  }

  /* iOS Safari viewport fix */
  @supports (-webkit-touch-callout: none) {
    html, body {
      height: -webkit-fill-available;
    }
  }

  /* Prevent flash of unstyled content during animations */
  body {
    visibility: hidden;
  }

  body.loaded {
    visibility: visible;
  }
}

/* Initial state for bento grid to prevent FOUC */
.bento-grid-initial {
  transform: scale(3);
}

.bento-column-initial {
  gap: 72px;
}

/* Dark mode text and icon colors */
[data-theme="dark"] .text-white {
  color: var(--text-color) !important;
}

[data-theme="dark"] .text-white\/90 {
  color: var(--text-color) !important;
  opacity: 0.9;
}

[data-theme="dark"] .text-white\/80 {
  color: var(--text-color) !important;
  opacity: 0.8;
}

[data-theme="dark"] .text-white\/60 {
  color: var(--text-color) !important;
  opacity: 0.6;
}

/* Desktop icon colors in dark mode - only apply to desktop, not mobile cards */
[data-theme="dark"] .hidden.lg\:flex svg {
  color: var(--icon-color);
}

[data-theme="dark"] .hidden.lg\:flex svg path,
[data-theme="dark"] .hidden.lg\:flex svg rect,
[data-theme="dark"] .hidden.lg\:flex svg circle,
[data-theme="dark"] .hidden.lg\:flex svg line {
  stroke: var(--icon-color);
}

/* Ensure currentColor uses icon color on desktop only */
[data-theme="dark"] .hidden.lg\:flex [stroke="currentColor"] {
  stroke: var(--icon-color);
}

[data-theme="dark"] .hidden.lg\:flex [fill="currentColor"] {
  fill: var(--icon-color);
}

/* Monitor lines should be black in dark mode on desktop only */
[data-theme="dark"] .hidden.lg\:flex svg path[stroke="white"] {
  stroke: var(--icon-color);
}

/* Mobile card styling for dark mode */
.mobile-card {
  background-color: white;
  transition: background-color 0.3s ease;
}

[data-theme="dark"] .mobile-card {
  background-color: var(--page-background);
}

/* Custom scrollbar for project modals */
.custom-scrollbar::-webkit-scrollbar {
  width: 12px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 6px;
  margin: 24px 0;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 6px;
  border: 2px solid transparent;
  background-clip: content-box;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
  background-clip: content-box;
}

/* Firefox scrollbar */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.3) rgba(255, 255, 255, 0.1);
}

/* iOS Safari viewport height fix */
.ios-viewport-fix {
  height: 100vh;
  height: calc(var(--vh, 1vh) * 100);
}

@supports (-webkit-touch-callout: none) {
  .ios-viewport-fix {
    height: -webkit-fill-available;
  }
}
